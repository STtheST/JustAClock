<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Just a Clock</title>
    <style>
        body {
            background: black;
            color: white;
            height: 100%;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        #clock {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            font-size: 25vmin;
            text-align: center;
            cursor: pointer;
        }
    </style>
    <script>
        let is24Hour = true;
        let wakeLock = null;
        async function requestWakeLock() {
            try {
                wakeLock = await navigator.wakeLock.request("screen");
                statusElem.textContent = "Wake Lock is active!";
            } catch (err) {
                statusElem.textContent = `${err.name}, ${err.message}`;
            }
        }
        function updateClock() {
            let now = new Date();
            let time = now.toLocaleTimeString('en-US', { hour12: !is24Hour });
            document.getElementById('clock').textContent = time
        }
        function toggleFormat() {
            is24Hour = !is24Hour;
            updateClock();
        }
        function initClock() {
            setInterval(updateClock, 1000);
            updateClock();
            document.getElementById('clock').addEventListener('click', toggleFormat);
            requestWakeLock();
            document.addEventListener('visibilitychange', async () => {
                if (wakeLock !== null && document.visibilityState === 'visible') {
                    await requestWakeLock();
                }
            });
        }
        document.addEventListener('DOMContentLoaded', initClock);
    </script>
</head>

<body>
    <div id="clock"></div>
</body>

</html>
